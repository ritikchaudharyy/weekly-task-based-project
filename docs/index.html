<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Focus Planner - Smart Weekly Planning</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="AI-powered weekly task planner with smart scheduling and workload management">
<link rel="stylesheet" href="css/style.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<body>
<div class="container">

  <!-- HEADER -->
  <div class="header">
    <h1>âœ¨ AI Focus Planner</h1>
    <p class="subtitle">Smart weekly planning powered by AI</p>
    <div id="userProfile" style="display:none" class="user-profile">
      <img id="userAvatar" style="width:32px;height:32px;border-radius:50%;margin-right:8px;display:none" alt="avatar">
      <span id="userNameDisplay"></span>
      <button id="profileBtn" class="btn-logout" style="background:var(--primary);margin-left:8px">Profile</button>
      <button id="analyticsBtn" class="btn-logout" style="background:var(--success);margin-left:8px">Analytics</button>
      <button id="logoutBtn" class="btn-logout">Logout</button>
    </div>
  </div>

  <!-- AI STATUS INDICATOR -->
  <div id="aiStatusBanner" class="ai-status-banner" style="display:none;">
    <div class="status-content">
      <span class="status-icon">ğŸ¤–</span>
      <span class="status-text">AI Mode: <span id="aiModeText">Active</span></span>
      <span class="status-badge" id="aiModeBadge">Connected</span>
    </div>
  </div>

  <!-- PROGRESS BAR -->
  <div class="progress"><div id="bar" class="progress-bar"></div></div>

  <!-- SLIDE 0: AUTH -->
  <div class="slide active card" id="authSlide">
    <div class="auth-container">
      <div class="auth-header">
        <div class="auth-icon">ğŸ¯</div>
        <h2>Welcome to Your Focus System</h2>
        <p class="auth-subtitle">Plan smarter, achieve more with AI assistance</p>
      </div>

      <div id="authButtons" class="auth-buttons">
        <button id="newUserBtn" class="primary btn-large">
          <span class="btn-icon">ğŸ‘¤</span>
          New User
        </button>
        <button id="existingUserBtn" class="secondary btn-large">
          <span class="btn-icon">ğŸ”</span>
          Existing User
        </button>
      </div>

      <div id="newUserForm" class="auth-form" style="display:none;">
        <h3>Create Your Account</h3>

        <div class="input-group">
          <label>Your Name</label>
          <input id="userName" placeholder="Enter your name" autocomplete="name">
        </div>

        <div class="input-group">
          <label>Username</label>
          <input id="userUsername" placeholder="Choose a username" autocomplete="username">
        </div>

        <div class="input-group">
          <label>Email (Optional)</label>
          <input id="userEmail" type="email" placeholder="your@email.com" autocomplete="email">
        </div>

        <div class="input-group">
          <label>Your Intention</label>
          <input id="userIntent" placeholder="e.g., Excel in academics">
        </div>

        <div class="input-group">
          <label>Create 4-Digit PIN</label>
          <input id="userPin" maxlength="4" type="password" inputmode="numeric" placeholder="Create PIN" autocomplete="new-password">
          <small>Remember this PIN - you'll need it to access your plans</small>
        </div>

        <button id="createBtn" class="primary btn-large">Create & Start Planning</button>
        <button id="backToAuth1" class="secondary btn-small">Back</button>
      </div>

      <div id="existingUserForm" class="auth-form" style="display:none;">
        <h3>Welcome Back!</h3>
        <div id="userGreeting"></div>
        
        <div class="input-group">
          <label>Username</label>
          <input id="loginUsername" placeholder="Enter your username" autocomplete="username">
        </div>

        <div class="input-group">
          <label>Enter Your PIN</label>
          <input id="loginPin" maxlength="4" type="password" inputmode="numeric" placeholder="Enter 4-digit PIN" autocomplete="current-password">
        </div>

        <button id="loginBtn" class="primary btn-large">Enter Your Workspace</button>
        <button id="backToAuth2" class="secondary btn-small">Back</button>
      </div>
    </div>
  </div>

  <!-- SLIDE 1: INTENTION -->
  <div class="slide card">
    <div class="slide-header">
      <div class="slide-number">Step 1</div>
      <h2>ğŸ¯ Define Your Intention</h2>
      <p class="slide-description">What is the primary academic or personal intention for this week?</p>
    </div>
    
    <div class="input-group">
      <label>My intention is to...</label>
      <input id="intention" placeholder="e.g., Excel in my studies and complete all assignments on time">
    </div>

    <div class="info-card">
      <div class="info-icon">ğŸ’¡</div>
      <div class="info-content">
        <strong>Pro Tip:</strong> Your intention sets the tone for your entire week. Make it meaningful and specific!
      </div>
    </div>

    <div class="nav">
      <button class="secondary btn-nav" style="visibility:hidden">Back</button>
      <button id="next1" class="primary btn-nav">Next: Set Goals â†’</button>
    </div>
  </div>

  <!-- SLIDE 2: GOALS -->
  <div class="slide card">
    <div class="slide-header">
      <div class="slide-number">Step 2</div>
      <h2>ğŸ¯ Set Your Weekly Goals</h2>
      <p class="slide-description">Break down your intention into actionable goals.</p>
    </div>

    <div class="goal-input-section">
      <div class="input-row">
        <div class="input-group flex-grow">
          <label for="goalInput">Goal Name</label>
          <input id="goalInput" placeholder="e.g., Master DSA Chapter 5">
        </div>
        <div class="input-group">
          <label for="goalColor">Color</label>
          <input id="goalColor" type="color" value="#38bdf8" class="color-picker">
        </div>
        <button id="addGoalBtn" class="primary" style="align-self: flex-end;">Add Goal</button>
      </div>
    </div>
    
    <div id="goals" class="goals-container">
      <div class="empty-state">
        <div class="empty-icon">ğŸ“</div>
        <p>No goals yet. Add your first goal to get started!</p>
      </div>
    </div>

    <div class="nav">
      <button id="back1" class="secondary btn-nav">â† Back</button>
      <button id="next2" class="primary btn-nav">Next: Add Tasks â†’</button>
    </div>
  </div>

  <!-- SLIDE 3: TASKS (AI ENHANCED) -->
  <div class="slide card">
    <div class="slide-header">
      <div class="slide-number">Step 3</div>
      <h2>ğŸ¯ Add Tasks to Your Goals</h2>
      <p class="slide-description">Let AI generate smart tasks or add them manually</p>
    </div>
    
    <div id="tasksArea" class="tasks-container">
      <div class="empty-state">
        <div class="empty-icon">ğŸ“‹</div>
        <p>Add some goals first to see task options here.</p>
      </div>
    </div>
    
    <div class="nav">
      <button id="back2" class="secondary btn-nav">â† Back</button>
      <button id="next3" class="primary btn-nav">Next: Schedule â†’</button>
    </div>
  </div>

  <!-- SLIDE 4: BATCHING -->
  <div class="slide card">
    <div class="slide-header">
      <div class="slide-number">Step 4</div>
      <h2>ğŸ“… Schedule Your Tasks</h2>
      <p class="slide-description">Assign your tasks to specific days of the week.</p>
    </div>
    
    <div id="batchArea" class="batch-container">
      <div class="empty-state">
        <div class="empty-icon">ğŸ“…</div>
        <p>Tasks will appear here once you add them in the previous step.</p>
      </div>
    </div>
    
    <div class="nav">
      <button id="back3" class="secondary btn-nav">â† Back</button>
      <button id="next4" class="primary btn-nav">Next: Motivation â†’</button>
    </div>
  </div>

  <!-- SLIDE 5: MOTIVATION -->
  <div class="slide card">
    <div class="slide-header">
      <div class="slide-number">Step 5</div>
      <h2>ğŸ¯ Set Your Motivation</h2>
      <p class="slide-description">Establish rewards and consequences to stay on track.</p>
    </div>
    
    <div class="motivation-grid">
      <div class="input-group">
        <label for="focusTask" class="label-highlight">â­ What is your single most important task this week?</label>
        <input id="focusTask" placeholder="e.g., Finish the history essay">
      </div>
      
      <div class="input-group">
        <label for="reward" class="label-success">ğŸ† Reward for completing all tasks</label>
        <input id="reward" placeholder="e.g., Watch a new movie">
      </div>

      <div class="input-group">
        <label for="punishment" class="label-danger">ğŸ’” Consequence for not completing tasks</label>
        <input id="punishment" placeholder="e.g., No video games for a day">
      </div>

      <div class="input-group">
        <label for="mainDay">ğŸ—“ï¸ What is your main focus day?</label>
        <select id="mainDay" class="select-large">
          <option>Monday</option>
          <option>Tuesday</option>
          <option>Wednesday</option>
          <option>Thursday</option>
          <option>Friday</option>
          <option>Saturday</option>
          <option>Sunday</option>
        </select>
      </div>

      <div class="input-group">
        <label for="mood">ğŸ™‚ How are you feeling about this week?</label>
        <select id="mood" class="select-large">
          <option value="energized">Energized and ready</option>
          <option value="neutral">Neutral</option>
          <option value="stressed">A bit stressed</option>
        </select>
      </div>
    </div>
    
    <div class="nav">
      <button id="back4" class="secondary btn-nav">â† Back</button>
      <button id="generateBtn" class="primary btn-nav">Generate My Plan! â†’</button>
    </div>
  </div>

  <!-- SLIDE 6: TIMETABLE -->
  <div class="slide card">
    <div class="slide-header">
      <h2>ğŸ“… Your AI-Generated Weekly Plan</h2>
      <p class="slide-description">Your personalized schedule for maximum productivity</p>
    </div>

    <div class="plan-header">
      <div class="reward-display">
        <div class="reward-icon">ğŸ†</div>
        <div>
          <strong>Reward</strong>
          <p id="rewardDisplay"></p>
        </div>
      </div>
      <div class="punishment-display">
        <div class="punishment-icon">ğŸ’”</div>
        <div>
          <strong>Consequence</strong>
          <p id="punishmentDisplay"></p>
        </div>
      </div>
    </div>
    
    <div id="table" class="timetable">
      <div class="empty-state">
        <div class="empty-icon">ğŸ“Š</div>
        <p>Your weekly schedule will appear here.</p>
      </div>
    </div>

    <div class="ai-insights-section">
      <h3>ğŸ¤– AI Insights & Suggestions</h3>
      <div id="aiSuggestion" class="ai-card">
        <div class="loading-state">
          <div class="spinner"></div>
          <p>Generating AI insights...</p>
        </div>
      </div>
    </div>

    <div class="legend-section">
      <h3>ğŸ¨ Legend</h3>
      <div id="legend" class="legend"></div>
    </div>

    <div class="action-buttons">
      <button id="printBtn" class="secondary btn-action">ğŸ–¨ï¸ Print</button>
      <button id="exportBtn" class="secondary btn-action">ğŸ“¥ Export</button>
      <button id="importBtn" class="secondary btn-action">ğŸ“¤ Import</button>
      <button id="resetBtn" class="danger btn-action">ğŸ”„ Start Over</button>
    </div>
  </div>

</div>

<!-- MODALS -->
<div id="profileModal" class="modal">
  <div class="modal-content">
    <span id="closeProfileModal" class="modal-close">&times;</span>
    <h2>My Profile</h2>
    
    <div class="profile-avatar-section">
      <img id="profileAvatar" class="profile-avatar-img" src="" alt="Avatar">
      <input type="file" id="avatarUpload" accept="image/*" style="display:none;">
      <button id="uploadAvatarBtn" class="secondary btn-small">Upload New Avatar</button>
    </div>

    <div class="input-group"><label>Name</label><input id="profileName"></div>
    <div class="input-group"><label>Username</label><input id="profileUsername"></div>
    <div class="input-group"><label>Email</label><input id="profileEmail" type="email"></div>
    <div class="input-group"><label>Intention</label><input id="profileIntent"></div>
    <div class="input-group">
      <label>New PIN (optional)</label>
      <input id="profilePin" type="password" maxlength="4" placeholder="Enter new 4-digit PIN">
    </div>
    <button id="saveProfileBtn" class="primary btn-large">Save Changes</button>
  </div>
</div>

<div id="analyticsModal" class="modal">
  <div class="modal-content">
    <span id="closeAnalyticsModal" class="modal-close">&times;</span>
    <h2>My Analytics Dashboard</h2>
    
    <div class="analytics-stats">
      <div class="stat-card">
        <div class="stat-icon">âœ…</div>
        <div id="completedTasks" class="stat-number">0</div>
        <div class="stat-label">Tasks Completed</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ğŸ“‹</div>
        <div id="totalTasks" class="stat-number">0</div>
        <div class="stat-label">Total Tasks</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ğŸ“Š</div>
        <div id="completionRate" class="stat-number">0%</div>
        <div class="stat-label">Completion Rate</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ğŸ”¥</div>
        <div id="streak" class="stat-number">0</div>
        <div class="stat-label">Daily Streak</div>
      </div>
    </div>
    
    <h3>Goal Progress</h3>
    <div id="goalsBreakdown" class="goals-breakdown"></div>
    
    <h3 style="margin-top:24px">Weekly Activity</h3>
    <div id="weeklyActivity" class="weekly-activity"></div>
  </div>
</div>

<!-- Notification Container -->
<div id="notificationContainer"></div>

<!-- Hidden file input for import -->
<input type="file" id="importFile" accept="application/json" style="display:none;">

<script src="Js/script.js"></script>
</body>
</html>